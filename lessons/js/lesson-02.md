## 🧩 درس ۲ — زبان‌های برنامه‌نویسی: مفسرها (Interpreter) و مترجم‌ها (Compiler)


### 🎯 هدف درس:

هدف ما این است که تفاوت بین **دو نوع اصلی از زبان‌های برنامه‌نویسی (مفسری و مترجمی)** را درک کنیم و بفهمیم **جاوا اسکریپت دقیقاً متعلق به کدام خانواده است** و این موضوع چه تأثیری بر کار ما می‌گذارد.

### 🧠 توضیح مفهومی ساده و روان:

فرض کن می‌خواهی به یک دوست که فقط زبان ژاپنی می‌داند، دستور آشپزی بدهی. دو راه داری:

1. **روش مفسری (Interpreter - مفسر):**

   * شما دستور اول (مثلاً: "آب را بجوشان") را می‌گویی.
   * یک مترجم (مفسر) که کنار دوستت ایستاده، همان لحظه آن را به ژاپنی ترجمه می‌کند.
   * دوستت دستور اول را انجام می‌دهد.
   * سپس شما دستور دوم را می‌گویی، مترجم آن را ترجمه می‌کند و این کار ادامه پیدا می‌کند.
   * **نتیجه:** کار سریع شروع می‌شود، اما کل فرآیند ممکن است کمی طول بکشد چون همیشه باید منتظر ترجمهٔ خط بعدی باشید.

2. **روش مترجمی (Compiler - مترجم):**

   * شما کل دستور پخت (کد کامل برنامه) را از ابتدا به مترجم می‌دهی.
   * مترجم (مترجم) یک ساعت وقت می‌گذارد و کل دستور پخت را به بهترین شکل ممکن به یک کتابچهٔ ژاپنی تبدیل می‌کند.
   * حالا دوستت می‌تواند کل کتابچه را بردارد و بدون وقفه و با سرعت تمام، کار را انجام دهد.
   * **نتیجه:** شروع کار کُند است (باید صبر کنی تا ترجمه تمام شود)، اما اجرای نهایی فوق‌العاده سریع و بهینه است.

در دنیای برنامه‌نویسی، **جاوا اسکریپت یک زبان برنامه‌نویسی کامپایل شده نیست**، **بلکه یک زبان برنامه‌نویسی مفسری** (یا تفسیر شده) **است**. این یعنی وقتی کد جاوا اسکریپت را می‌نویسیم، **مفسر جاوا اسکریپت** در مرورگر یا محیط اجرای ما، **شروع به ارزیابی متن اصلی برنامه می‌کند** تا آن را اجرا کند.

### ⚙️ مراحل یادگیری گام‌به‌گام:

1. **هدف زبان:** هر زبان برنامه‌نویسی باید به زبان ماشین (که فقط صفر و یک است) تبدیل شود تا کامپیوتر آن را بفهمد.
2. **نقش مفسر:** مفسرها کد را **خط به خط** می‌خوانند و اجرا می‌کنند. این کار باعث می‌شود برنامه‌نویسی و آزمون و خطا سریع‌تر انجام شود، زیرا نیازی نیست منتظر باشیم کل برنامه ترجمه شود تا اولین خط اجرا شود.
3. **نقش مترجم:** مترجم‌ها (Compiler) کل کد را یکجا به زبان ماشین تبدیل می‌کنند. این کار معمولاً باعث می‌شود برنامهٔ نهایی بسیار سریع‌تر اجرا شود، چون همه چیز از قبل آماده شده است.
4. **ماهیت جاوا اسکریپت:** جاوا اسکریپت یک **زبان مفسری** محسوب می‌شود. این به این معنی است که مرورگر **بلافاصله با استفاده از مفسر جاوا اسکریپت** کد منبع را ارزیابی می‌کند.
5. **نتیجه برای ما:** به دلیل مفسری بودن جاوا اسکریپت، می‌توانیم کدهایمان را مستقیماً در مرورگر ببینیم و نتایج را بلافاصله مشاهده کنیم. همین موضوع باعث شده که مرورگرها ابزاری مهم برای ما باشند تا بتوانیم **کدهای خود را در حین توسعه برنامه تست کنیم**.

### 💡 نکات طلایی معلم:

دوست کوچک من، اگرچه در کتاب می‌خوانیم که جاوا اسکریپت **مفسری** است، اما باید بدانی که **موتورهای جاوا اسکریپت امروزی** (مثل موتور کروم یا فایرفاکس) فوق‌العاده هوشمند شده‌اند! آن‌ها از یک تکنیک جادویی به نام "کامپایل در لحظه" (JIT - Just-in-Time) استفاده می‌کنند.

یعنی وقتی کد تو را می‌خوانند، اگر ببینند یک قسمت را خیلی زیاد استفاده می‌کنی، سریع آن تکه کد را به صورت مخفیانه و سریع، **مانند یک مترجم**، بهینه می‌کنند تا سرعت کار بالاتر برود! این یعنی جاوا اسکریپت هم از سرعت **شروع سریع مفسر** و هم از **سرعت بالای مترجم** استفاده می‌کند! اما در نهایت، پایه و اساس آن **تفسیر کد منبع** است.

### 📋 نمونه کد یا مثال واقعی:

در جاوا اسکریپت، به دلیل ماهیت مفسری، اگر ما در خط ۹۹ یک خطا داشته باشیم، برنامه تا خط ۹۸ اجرا می‌شود و بعد متوقف می‌گردد. اگر یک زبان مترجمی (کامپایلری) بود، اصلاً اجازهٔ ساخت برنامه را نمی‌داد تا زمانی که تمام خطاها رفع شوند!

فرض کن این کد را می‌نویسیم:

```javascript
// خط ۱: این دستور اجرا می‌شود.
console.log('من خط ۱ هستم!');

// خط ۲: این دستور هم اجرا می‌شود.
console.log('من خط ۲ هستم!');

// خط ۳: یک فرمان کاملاً اشتباه! (خطای گرامری)
fuunction_mohasabeh() {
    // ...
}

// خط ۴: این دستور هرگز دیده نمی‌شود چون خط ۳ برنامه را متوقف می‌کند.
console.log('من خط ۴ هستم!');
```

مفسر جاوا اسکریپت خطوط ۱ و ۲ را اجرا می‌کند، اما وقتی به خط ۳ می‌رسد و می‌بیند کلمهٔ `function` اشتباه نوشته شده، می‌گوید: «وایسا! من اینو نمی‌فهمم!» و کار را متوقف می‌کند.

### 🧪 تمرین درس:

به دو موقعیت زیر فکر کن و بگو هر کدام شبیه کدام روش ترجمه (مفسری یا مترجمی) است؟

1. تماشای یک **مسابقهٔ فوتبال زنده** که یک **گزارشگر همزمان** در حال ترجمهٔ صحبت‌های مربی است.

   * کدام روش است؟ (مفسری/مترجمی)
2. خواندن یک **کتاب تاریخ** که یک نویسنده **شش ماه** وقت صرف کرده تا آن را از آلمانی به فارسی ترجمه کند.

   * کدام روش است؟ (مفسری/مترجمی)

### 🧾 خلاصه (Cheat Sheet):

| مفهوم                        | ویژگی کلیدی                                  | جاوا اسکریپت؟                                                 |
| :--------------------------- | :------------------------------------------- | :------------------------------------------------------------ |
| **زبان مفسری (Interpreter)** | ترجمه و اجرای خط به خط. شروع سریع.           | **بله**، جاوا اسکریپت یک زبان مفسری است.                      |
| **زبان مترجمی (Compiler)**   | ترجمهٔ کل کد به صورت یکجا. اجرای سریع نهایی. | خیر، اگرچه موتورهای مدرن از تکنیک‌های مترجمی استفاده می‌کنند. |
| **مفسر جاوا اسکریپت**        | وظیفهٔ ارزیابی کد منبع جاوا اسکریپت.         | وظیفهٔ اجرای کدهای ما در مرورگر.                              |

### 📚 آزمون کوچک پایانی:

حالا ۱۵ سوال برای تثبیت مفاهیم:

1. تفاوت اصلی بین یک زبان مفسری و یک زبان مترجمی چیست؟
2. اگر یک برنامه مفسری در خط ۵۰ خطا داشته باشد، آیا خطوط ۱ تا ۴۹ اجرا می‌شوند؟
3. اگر یک زبان مترجمی (کامپایلری) در خط ۵۰ خطا داشته باشد، آیا اصلاً برنامه به مرحلهٔ اجرا می‌رسد؟
4. جاوا اسکریپت به کدام دسته از زبان‌ها تعلق دارد؟
5. کد منبع جاوا اسکریپت مستقیماً توسط چه چیزی ارزیابی می‌شود؟
6. کدام روش (مفسری یا مترجمی) برای شروع کار و تست‌های کوچک سریع‌تر است؟
7. نقش **مفسر جاوا اسکریپت** در مرورگر چیست؟
8. اگر بخواهیم در جاوا اسکریپت یک خطا پیدا کنیم، کی متوجه آن می‌شویم؟ (در زمان ترجمهٔ اولیه یا در زمان اجرا؟)
9. در مثال آشپزی، مترجم همزمان کدام روش بود؟
10. کدام روش (مفسری یا مترجمی) زمان بیشتری را صرف آماده‌سازی اولیه می‌کند؟
11. چه چیزی باعث می‌شود مرورگرها ابزاری عالی برای توسعهٔ جاوا اسکریپت باشند؟
12. در زبان مفسری، آیا مفسر باید منتظر بماند تا تمام کد دانلود شود تا اجرای خط اول را آغاز کند؟ (مفهومی)
13. بر اساس منابع، آیا جاوا اسکریپت یک زبان کامپایل شده است؟
14. مفسر برای ارزیابی کد از کجا شروع می‌کند؟
15. کلمهٔ آلمانی برای "زبان برنامه‌نویسی تفسیر شده" (Interpreted programming language) در متن‌های فنی کدام است؟ (بر اساس منبع)

---

#### پاسخنامه:

1. مفسری خط به خط ترجمه و اجرا می‌کند، اما مترجمی کل برنامه را یکجا ترجمه می‌کند.
2. بله، چون اجرا به صورت خط به خط است.
3. خیر، معمولاً تا زمانی که خطا رفع نشود، ترجمهٔ نهایی کامل نمی‌شود و برنامه اجرا نمی‌گردد.
4. یک زبان مفسری.
5. توسط مفسر جاوا اسکریپت (در حین اجرا).
6. مفسری.
7. ارزیابی و اجرای کد منبع جاوا اسکریپت.
8. در زمان اجرا (runtime).
9. مفسری.
10. مترجمی (Compiler).
11. چون جاوا اسکریپت مفسری است و می‌توان کدها را بلافاصله اجرا و تست کرد.
12. خیر، می‌تواند به محض رسیدن به خطوط اولیه، شروع به تفسیر و اجرا کند.
13. خیر.
14. از خط اول کد.
15. `interpretierte Programmiersprache` (Interpretierte Programmiersprache).

---

### 🌟 پیام انگیزشی پایانی:

**فوق‌العاده بود! امروز فهمیدی که کامپیوترها چطور کدهای ما را می‌خوانند و جاوا اسکریپت چطور در خانوادهٔ زبان‌ها قرار می‌گیرد. تو امروز یک قدم مهم دیگر به تبدیل شدن به یک فول‌استک واقعی نزدیک‌تر شدی!**

