
### 🧩 درس ۱۶ — اعداد و انواع دادهٔ عددی (۹۷–۹۹)

این درس دقیقاً بر روی مفهوم «اعداد» در جاوااسکریپت، نحوهٔ نمایش آن‌ها در مبناهای مختلف، و محدودیت‌های این نوع داده تمرکز دارد.

### 🎯 هدف درس

هدف اصلی این درس این است که شما:

1. با نحوهٔ تعریف انواع مختلف اعداد (صحیح، اعشاری، منفی) در جاوااسکریپت آشنا شوید.

2. نحوهٔ نمایش اعداد در سیستم‌های عددی مختلف (دودویی، اکتال، هگزادسیمال) را درک کنید.

3. با مقادیر خاص و محدودهٔ مجاز اعداد در جاوااسکریپت آشنا شوید.

4. درک کنید که چرا و چگونه باید از نوع دادهٔ عددی برای محاسبات استفاده کنید.

---

### 🧠 توضیح مفهومی ساده و روان با مثال‌های واقعی

تصور کنید که در حال برنامه‌ریزی یک **سفر جاده‌ای** هستید.

اعداد در جاوااسکریپت، درست مثل اندازه‌گیری‌ها و محاسبات مختلف در سفر شما عمل می‌کنند:

* **اعداد صحیح (مانند `450` کیلومتر):** 
مسافت کلی که باید طی کنید.

* **اعداد اعشاری (مانند `8.5` لیتر در هر ۱۰۰ کیلومتر):** 
میانگین مصرف سوخت ماشین شما.

* **سیستم‌های عددی دیگر (مانند هگزادسیمال):**
 فرض کنید این‌ها کدهای مخفی یا آدرس‌های خاصی هستند که فقط برای برنامه‌نویسی داخلی (مثل تعیین رنگ یا آدرس‌های حافظه) به کار می‌روند. این‌ها همان اعدادی هستند، اما با ظاهری متفاوت!

جاوااسکریپت باید بفهمد که شما کدام "عدد" را با چه فرمتی وارد کرده‌اید تا بتواند محاسبات (مثل محاسبهٔ هزینهٔ سوخت کل سفر) را به درستی انجام دهد.

---

### ⚙️ آموزش گام‌به‌گام با همه مفاهیم و زیر‌بخش‌ها

در جاوااسکریپت، بر خلاف برخی زبان‌ها، شما تنها یک نوع دادهٔ عددی کلی به نام `number` دارید که هم اعداد صحیح (Integers) و هم اعداد اعشاری (Floats) را پوشش می‌دهد.

#### ۱. تعریف اعداد صحیح و اعشاری

می‌توانید به سادگی از `const` یا `let` برای تعریف متغیرهای عددی استفاده کنید. اعدادی که نقطهٔ اعشار نداشته باشند، صحیح محسوب می‌شوند و آنهایی که نقطهٔ اعشار دارند، اعشاری (یا ممیز شناور).

**💻 مثال ۱: تعریف انواع اعداد**

```javascript
const number1 = 5;     // تعریف یک عدد صحیح (Ganzzahl)
const number2 = 0.5;   // تعریف یک عدد اعشاری (Kommazahl)
const number3 = -22;   // تعریف یک عدد صحیح منفی
const number4 = -0.9;  // تعریف یک عدد اعشاری منفی
```

#### ۲. استفاده از جداکننده‌ها برای خوانایی بیشتر

برای بهبود خوانایی اعداد بزرگ، مانند پول یا فواصل طولانی، جاوااسکریپت به شما اجازه می‌دهد از کاراکتر زیرخط (`_`) به عنوان جداکننده (Separator) استفاده کنید. توجه کنید که این جداکننده تأثیری در مقدار ذخیره شدهٔ عدد ندارد و صرفاً برای راحتی برنامه‌نویس است.

**💻 مثال ۲: جداکننده‌های عددی**

```javascript
const number5 = 12_300;     // جداکننده در نمایش اعشاری (Dezimaldarstellung)
const number6 = 1_000_000;  // یک میلیون

console.log(number5); // خروجی: 12300 (جداکننده داخلی نمایش داده نمی‌شود)
console.log(number6); // خروجی: 1000000
```

#### ۳. سیستم‌های عددی مختلف (Number Systems)

جاوااسکریپت امکان تعریف اعداد را در مبناهای غیر از ده (مبنای اعشاری) نیز فراهم می‌کند:

##### الف) اعداد دودویی (Binary)

اعداد دودویی همیشه با `0b` یا `0B` شروع می‌شوند و تنها شامل ارقام ۰ و ۱ هستند.

**💻 مثال ۳: اعداد دودویی**

```javascript
// 0b01010101 معادل اعشاری 85 است.
const number1 = 0b01010101; 
console.log(number1); // خروجی: 85

// const number2 = 0b0101012; // مثال نامعتبر (2 در مبنای 2 وجود ندارد)
```

##### ب) اعداد اکتال (Octal)

اعداد اکتال (مبنای ۸) در نسخه‌های جدید با `0o` یا `0O` شروع می‌شوند. در نسخه‌های قدیمی‌تر، با `0` شروع می‌شدند.

**نکتهٔ مهم:** اگر در یک عدد اکتال، رقمی بالاتر از ۷ استفاده کنید، جاوااسکریپت آن را به عنوان یک عدد اعشاری معمولی تفسیر می‌کند و `0` پیشرو را نادیده می‌گیرد.

**💻 مثال ۴: اعداد اکتال**

```javascript
const number1 = 050;     // تعریف یک عدد اکتال قدیمی (معادل 40 در مبنای 10)
const number3 = 011147;  // تعریف یک عدد اکتال (معادل 4711 در مبنای 10)

console.log(number1); // خروجی: 40
console.log(number3); // خروجی: 4711

// const number2 = 078; // نامعتبر در مبنای 8، اما به عنوان 78 در مبنای 10 تفسیر می‌شود
```

##### ج) اعداد هگزادسیمال (Hexadecimal)

اعداد هگزادسیمال (مبنای ۱۶) همیشه با `0x` یا `0X` شروع می‌شوند و از ارقام ۰ تا ۹ و حروف A تا F (یا a تا f) استفاده می‌کنند.

**نکتهٔ مهم:** اگر از حرفی بالاتر از F (مثلاً G) استفاده کنید، جاوااسکریپت خطای نحوی (Syntax Error) می‌دهد.

**💻 مثال ۵: اعداد هگزادسیمال**

```javascript
const number1 = 0xF;        // معادل 15 در مبنای 10
const number2 = 0xb;        // معادل 11 در مبنای 10
const number4 = 0xAF_BC_C0; // با جداکننده (معادل 11517120)

console.log(number1); // خروجی: 15
console.log(number2); // خروجی: 11
console.log(number4); // خروجی: 11517120

// const number3 = 0xG; // خطا: Syntaxfehler (خطای نحوی)
```

#### ۴. محدودهٔ مقادیر عددی (Range of Numbers)

اندازهٔ اعداد در جاوااسکریپت، مانند هر کامپیوتر دیگری، محدود است، زیرا حافظهٔ نامحدودی در دسترس نیست. جاوااسکریپت ثابت‌هایی را برای نمایش این محدودیت‌ها فراهم می‌کند:

**💻 مثال ۶: ثابت‌های محدودهٔ اعداد**

```javascript
console.log(Number.MIN_VALUE);      // کوچک‌ترین عدد مثبت قابل استفاده (5e-324)
console.log(Number.MAX_VALUE);      // بزرگ‌ترین عدد قابل استفاده (1.7976931348623157e+308)
console.log(Number.NEGATIVE_INFINITY); // خروجی: -Infinity (منفی بی‌نهایت)
console.log(Number.POSITIVE_INFINITY); // خروجی: Infinity (مثبت بی‌نهایت)
```

این مقادیر معمولاً برای کارهای روزمره کاربردی ندارند، اما دانستن اینکه محدودهٔ اعداد وجود دارد، مهم است. اگر نیاز به کار با اعداد واقعاً بزرگ دارید، باید از نوع دادهٔ `BigInt` استفاده کنید.

#### ۵. مقادیر عددی نامعتبر (NaN)

محاسباتی که منجر به یک مقدار عددی معتبر نمی‌شوند، مقدار خاص **`NaN`** (Not a Number یا "نه یک عدد") را برمی‌گردانند.

به عنوان مثال، تقسیم صفر بر صفر یا تلاش برای تبدیل یک رشتهٔ غیرعددی به عدد، این مقدار را می‌دهد.

---

### 💻 بازسازی کدها و مثال‌های کتاب

تمام مثال‌های اصلی در بخش بالا بازسازی و توضیح داده شدند. در اینجا یکپارچه‌سازی و توضیحات تکمیلی آمده است.

**💻 لیست ۳.۱۴: تعریف متغیرهای عددی مختلف**

```javascript
const number1 = 5;          // تعریف یک عدد صحیح
const number2 = 0.5;        // تعریف یک عدد اعشاری
const number3 = -22;        // تعریف یک عدد صحیح منفی
const number4 = -0.9;       // تعریف یک عدد اعشاری منفی
const number5 = 12_300;     // جداکننده در نمایش اعشاری
const number6 = 1_000_000;  // جداکننده در نمایش اعشاری

console.log(number1); // 5
console.log(number2); // 0.5
console.log(number3); // -22
console.log(number4); // -0.9
console.log(number5); // 12300 
console.log(number6); // 1000000 
```

**💻 لیست ۳.۱۵ و ۳.۱۶ و ۳.۱۷: مثال‌های سیستم‌های عددی**

```javascript
// مثال های دودویی (Binary)
const binaryNumber = 0b01010101; 
console.log(binaryNumber); // 85

// مثال های اکتال (Octal)
const octalNumber1 = 050; // 40
const octalNumber2 = 011147; // 4711
console.log(octalNumber1); // 40
console.log(octalNumber2); // 4711

// مثال های هگزادسیمال (Hexadecimal)
const hexNumber1 = 0xF; // 15
const hexNumber4 = 0xAF_BC_C0; // 11517120
console.log(hexNumber1); // 15
console.log(hexNumber4); // 11517120
```

**💻 لیست ۳.۱۸: کار با مقادیر خاص**

```javascript
console.log(Number.MIN_VALUE);        // خروجی: 5e-324 
console.log(Number.MAX_VALUE);        // خروجی: 1.7976931348623157e+308 
console.log(Number.NEGATIVE_INFINITY); // خروجی: -Infinity 
console.log(Number.POSITIVE_INFINITY); // خروجی: Infinity 
```

---

### 📊 نمودارها و جداول (بازسازی شده در قالب Markdown)

#### جدول ۱: پیشوندهای سیستم‌های عددی

|        سیستم عددی        |   پیشوند (Prefix)   |   ارقام مجاز   | مثال (معادل در مبنای ۱۰) |
| :----------------------: | :-----------------: | :------------: | :----------------------: |
|     اعشاری (Decimal)     |        ندارد        |     ۰ تا ۹     |           `100`          |
|      دودویی (Binary)     |     `0b` یا `0B`    |      ۰، ۱      |     `0b1100101` (101)    |
|       اکتال (Octal)      | `0` (قدیمی) یا `0o` |     ۰ تا ۷     |        `050` (40)        |
| هگزادسیمال (Hexadecimal) |     `0x` یا `0X`    | ۰ تا ۹، A تا F |       `0xAF` (175)       |

#### جدول ۲: ثابت‌های خاص مربوط به نوع دادهٔ Number

| ثابت                       | توضیحات                               |  مقدار بازگشتی |
| :------------------------- | :------------------------------------ | :------------: |
| `Number.MAX_VALUE`         | بزرگترین عدد قابل نمایش               | `1.79...e+308` |
| `Number.MIN_VALUE`         | کوچکترین عدد مثبت قابل نمایش          |    `5e-324`    |
| `Number.POSITIVE_INFINITY` | بی‌نهایت مثبت                         |   `Infinity`   |
| `Number.NEGATIVE_INFINITY` | بی‌نهایت منفی                         |   `-Infinity`  |
| `NaN`                      | نتیجهٔ محاسبات نامعتبر (Not a Number) |      `NaN`     |

#### جدول ۳: چهار عمل اصلی ریاضی (درک ضمنی برای "Grundrechenarten")

| عملگر |          نام          |   مثال   | توضیحات         |
| :---: | :-------------------: | :------: | :-------------- |
|  `+`  |     جمع (Addition)    |  `5 + 3` | جمع دو عدد      |
|  `-`  |  تفریق (Subtraktion)  |  `5 - 3` | تفاضل دو عدد    |
|  `*`  |  ضرب (Multiplikation) |  `5 * 3` | ضرب دو عدد      |
|  `/`  |    تقسیم (Division)   |  `6 / 3` | تقسیم دو عدد    |
|  `%`  |   باقیمانده (Modulo)  |  `5 % 2` | باقیمانده تقسیم |
|  `**` | توان (Exponentiation) | `2 ** 3` | محاسبهٔ توان    |

---

### 💬 نکات طلایی استاد و اشتباهات رایج

1. **اعداد فقط برای محاسبات!**
 جاوااسکریپت در مورد متغیرها سخت‌گیر نیست. اگر یک عدد را درون نقل قول قرار دهید (مثلاً `"22"`)، این دیگر یک عدد نیست، بلکه یک رشته (String) محسوب می‌شود. این اشتباه رایجی است که می‌تواند در حین جمع زدن، به جای جمع ریاضی، به الصاق (Concatenation) منجر شود.

2. **صفر پیشرو در اکتال:**
 در گذشته، اگر عددی با صفر شروع می‌شد (`050`)، به صورت اکتال تفسیر می‌شد. این قابلیت می‌تواند باعث خطاهای پنهان در کدهای قدیمی شود. همیشه از پیشوندهای صریح (`0o`، `0x`، `0b`) برای مبناهای دیگر استفاده کنید.

3. **جداکننده‌ها (`_`) تزئینی هستند:**
 به یاد داشته باشید که زیرخط‌ها فقط برای افزایش خوانایی کد شما هستند. وقتی جاوااسکریپت آن را پردازش می‌کند، زیرخط‌ها نادیده گرفته می‌شوند و روی مقدار نهایی تأثیری ندارند.

4. **BigInt برای اعداد فراتر از MAX_VALUE:**
 اگرچه `Number.MAX_VALUE` بسیار بزرگ است، اما اگر در پروژه‌های مالی یا رمزنگاری به دقت بالاتر یا اعداد بزرگتر نیاز داشتید، باید سراغ نوع دادهٔ `BigInt` بروید (که البته در این درس نیست، اما دانستن آن برای آینده مفید است).

---

### 🧪 تمرین‌ها

#### تمرین ۱: تشخیص نوع و مبنا (اجباری)

نتیجهٔ اجرای کدهای زیر را مشخص کنید:

```javascript
let A = 0x10;
let B = 0b1010;
let C = 051; 
console.log(A);
console.log(B);
console.log(C); 
```

#### تمرین ۲: جداکننده (اجباری)

آیا کد زیر معتبر است؟ اگر بله، مقدار `result` چقدر خواهد بود؟

```javascript
const cost = 1_200.50;
const tax = 0.15;
const result = cost * tax;
```

#### تمرین ۳: اعداد نامعتبر (اجباری)

چگونه می‌توانید مقادیر `Number.MAX_VALUE` و `Number.MIN_VALUE` را در کنسول نمایش دهید؟ هدف از این ثابت‌ها چیست؟

#### تمرین ۴: خارج از محدوده (اجباری)

نتیجهٔ تقسیم `Number.MAX_VALUE * 2` در جاوااسکریپت چیست؟

#### تمرین ۵: کار با هگزادسیمال (تکمیلی)

مقدار هگزادسیمال `0xFF` معادل چه عددی در مبنای ۱۰ است؟ اگر از جداکننده‌ها استفاده کنیم، `0x1A_2B` معادل چیست؟

#### تمرین ۶: تشخیص NaN (تکمیلی)

کد زیر چه خروجی‌ای می‌دهد؟ چرا؟

```javascript
const x = 10 / 0;
const y = 0 / 0;
console.log(x);
console.log(y);
```

#### تمرین ۷: استفاده از مبنای دو (تکمیلی)

چگونه عدد اعشاری `27` را به صورت دودویی در جاوااسکریپت تعریف می‌کنید؟

#### تمرین ۸: ترکیب انواع (تکمیلی)

اگر دو عدد در مبناهای مختلف را با هم جمع کنیم، جاوااسکریپت از کدام مبنا استفاده می‌کند؟
مثال: `0x10 + 10`

---

### 💡 یک پروژه یا مثال کاربردی: محاسبهٔ بودجهٔ سفر

فرض کنید می‌خواهیم با یک تابع ساده، مجموع هزینه‌های یک سفر را بر اساس سیستم‌های عددی مختلف محاسبه کنیم.

**سناریو:**

هزینهٔ هواپیما به صورت هگزادسیمال، هزینهٔ هتل به صورت اعشاری و هزینهٔ غذا به صورت اعشاری تعریف شده است.

```javascript
function calculateTravelBudget() {
    // 1. هزینهٔ پرواز (هگزادسیمال: 0x3E8 معادل 1000 دلار)
    const flightCost = 0x3E8; 

    // 2. هزینهٔ اقامت (اعشاری)
    const hotelCostPerNight = 85.50;
    const numberOfNights = 7;
    const totalHotelCost = hotelCostPerNight * numberOfNights; // 598.50

    // 3. هزینهٔ غذا (با استفاده از جداکننده برای خوانایی)
    const foodCost = 450_00; // 450.00 دلار

    // محاسبهٔ کل بودجه
    const totalBudget = flightCost + totalHotelCost + foodCost;

    console.log(`هزینهٔ پرواز: ${flightCost} دلار (از هگزادسیمال)`);
    console.log(`هزینهٔ هتل: ${totalHotelCost} دلار`);
    console.log(`هزینهٔ کل سفر: ${totalBudget} دلار`);

    // بررسی اینکه آیا بودجه از 2000 دلار فراتر می‌رود یا نه
    const overBudget = totalBudget > 2000;
    console.log(`آیا بودجه از 2000 دلار فراتر رفت؟ ${overBudget}`);
}

calculateTravelBudget();
// خروجی تقریباً:
// هزینهٔ پرواز: 1000 دلار (از هگزادسیمال)
// هزینهٔ هتل: 598.5 دلار
// هزینهٔ کل سفر: 2048.5 دلار
// آیا بودجه از 2000 دلار فراتر رفت؟ true 
```

---

### 🧾 خلاصه (Cheat Sheet)

| مفهوم            | توضیح                                     | مثال                           | منبع |
| :--------------- | :---------------------------------------- | :----------------------------- | :--: |
| تعریف اعداد      | اعشاری، صحیح، و منفی                      | `const x = -1.5;`              |      |
| جداکننده‌ها      | زیرخط برای خوانایی، روی مقدار تأثیر ندارد | `1_000_000`                    |      |
| دودویی (Binary)  | پیشوند `0b`                               | `0b11` (3)                     |      |
| هگزادسیمال (Hex) | پیشوند `0x`                               | `0xFF` (255)                   |      |
| اکتال (Octal)    | پیشوند `0o` (یا `0` در نسخه‌های قدیمی)    | `050` (40)                     |      |
| مقادیر خاص       | بی‌نهایت مثبت یا منفی                     | `Number.MAX_VALUE`, `Infinity` |      |
| مقدار نامعتبر    | نتیجهٔ عملیات نامشخص                      | `NaN` (Not a Number)           |      |

---

### 📚 آزمون پایانی (۱۰ سؤال)

**۱. مفهوم اصلی:** اعداد در جاوااسکریپت از چه نوع داده‌ای برای نمایش همزمان اعداد صحیح و اعشاری استفاده می‌کنند؟

الف) Integer و Float

ب) Number

ج) Decimal

د) BigInt

**۲. هگزادسیمال:** کدام پیشوند برای تعریف یک عدد در مبنای هگزادسیمال (Hexadecimal) در جاوااسکریپت استفاده می‌شود؟

الف) `0x`

ب) `0b`

ج) `0o`

د) `0h`

**۳. خروجی کد:** خروجی کد `console.log(0b1000 + 5);` چقدر است؟

الف) `0b10005`

ب) 13

ج) 85

د) 1005

**۴. خوانایی:** کاراکتر مجاز برای استفاده به عنوان جداکنندهٔ خوانایی در اعداد بزرگ چیست؟

الف) `,` (کاما)

ب) `.` (نقطه)

ج) `_` (زیرخط)

د) `#` (هش)

**۵. محدوده:** کدام ثابت، بزرگ‌ترین مقدار عددی را که جاوااسکریپت می‌تواند به طور دقیق نمایش دهد، نشان می‌دهد؟

الف) `Number.MIN_VALUE`

ب) `Number.SAFE_INTEGER`

ج) `Number.MAX_VALUE`

د) `Infinity`

**۶. خطای نحوی:** در کدام یک از تعریف‌های زیر، جاوااسکریپت یک خطای نحوی (Syntax Error) ایجاد می‌کند؟

الف) `const x = 0b1011;`

ب) `const y = 0xAAFF;`

ج) `const z = 0xG;`

د) `const w = 1_000_000;`

**۷. NaN:** مقدار `NaN` چه زمانی برگردانده می‌شود؟

الف) زمانی که عدد خیلی بزرگتر از `MAX_VALUE` باشد.

ب) زمانی که یک متغیر عددی تعریف نشده باشد.

ج) زمانی که نتیجهٔ یک عملیات ریاضی، یک مقدار عددی معتبر نباشد (مثلاً تقسیم صفر بر صفر).

د) زمانی که یک عدد منفی تعریف شود.

**۸. اکتال قدیمی:** مقدار `010` در سیستم‌های قدیمی‌تر جاوااسکریپت (که از پیشوند `0` برای اکتال استفاده می‌کردند) معادل کدام عدد در مبنای ۱۰ است؟

الف) ۱۰

ب) ۱

ج) ۸

د) ۱۶

**۹. تبدیل نوع:** خروجی `console.log(typeof 4711);` چیست؟

الف) `integer`

ب) `number`

ج) `float`

د) `object`

**۱۰. خارج از محدوده:** خروجی `console.log(1 / 0);` چیست؟

الف) `NaN`

ب) `0`

ج) `Infinity`

د) خطای زمان اجرا

---

#### 🌟 پاسخنامهٔ تشریحی

**۱. پاسخ: ب) Number**

جاوااسکریپت یک نوع دادهٔ واحد به نام `number` دارد که هر دو نوع عدد صحیح و اعشاری را مدیریت می‌کند.

**۲. پاسخ: الف) `0x`**

اعداد هگزادسیمال با `0x` یا `0X` شروع می‌شوند.

**۳. پاسخ: ب) 13**

`0b1000` در مبنای دودویی معادل ۸ است. ۸ + ۵ = ۱۳.

**۴. پاسخ: ج) `_` (زیرخط)**

کاراکتر زیرخط برای افزایش خوانایی مجاز است و به عنوان جداکننده استفاده می‌شود.

**۵. پاسخ: ج) `Number.MAX_VALUE`**

این ثابت بزرگترین مقدار عددی مثبت قابل نمایش را مشخص می‌کند.

**۶. پاسخ: ج) `const z = 0xG;`**

در مبنای ۱۶ (هگزادسیمال)، فقط ارقام ۰-۹ و حروف A-F مجاز هستند. استفاده از G باعث خطای نحوی می‌شود.

**۷. پاسخ: ج) زمانی که نتیجهٔ یک عملیات ریاضی، یک مقدار عددی معتبر نباشد (مثلاً تقسیم صفر بر صفر).**

`NaN` مخفف "Not a Number" است و برای نشان دادن نتایج عملیات نامشخص به کار می‌رود.

**۸. پاسخ: ج) ۸**

`010` در مبنای اکتال (۸) به معنای `(1 * 8^1) + (0 * 8^0)` است که معادل ۸ در مبنای ۱۰ می‌شود.

**۹. پاسخ: ب) `number`**

عملگر `typeof` برای مقادیر عددی، صرف نظر از اینکه صحیح باشند یا اعشاری، همیشه `number` را برمی‌گرداند.

**۱۰. پاسخ: ج) `Infinity`**

تقسیم یک عدد مثبت بر صفر (یا عددی بسیار بزرگتر از `MAX_VALUE`) نتیجهٔ `Infinity` را می‌دهد.
